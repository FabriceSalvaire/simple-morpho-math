

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1. Tutorial &mdash; SimpleMorphoMath 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="SimpleMorphoMath 0.1.0 documentation" href="index.html" />
    <link rel="next" title="2. SimpleMorphoMath" href="api/SimpleMorphoMath.html" />
    <link rel="prev" title="Overview" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api/SimpleMorphoMath.html" title="2. SimpleMorphoMath"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Overview"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">SimpleMorphoMath 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tutorial">
<h1>1. Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">This page require to setup a Unicode monospaced font (e.g. DejaVu Sans Mono) for the browser.  You
also need an Unicode Terminal to display correctly the output of the code.  To execude this code,
best would be to use Ipython, an Interactive Python Console.</p>
</div>
<p>Load modules:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">SimpleMorphoMath.SimpleMorphoMath1D</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>Create a new function f(x) and plot its umbra:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">function</span> <span class="o">=</span> <span class="n">Function</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="k">print</span> <span class="n">function</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s">&#39;umbra&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Result:</p>
<div class="highlight-python"><pre>┌──┬──────────────────┐
│11│                  │
│10│       ◼          │
│ 9│   ◼◼  ◼ ◼     ◼  │
│ 8│   ◼◼  ◼◼◼◼    ◼  │
│ 7│ ◼ ◼◼  ◼◼◼◼   ◼◼  │
│ 6│ ◼◼◼◼  ◼◼◼◼◼  ◼◼ ◼│
│ 5│◼◼◼◼◼ ◼◼◼◼◼◼ ◼◼◼ ◼│
│ 4│◼◼◼◼◼◼◼◼◼◼◼◼ ◼◼◼ ◼│
│ 3│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼ ◼│
│ 2│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
│ 1│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
└──┴──────────────────┘</pre>
</div>
<p>The umbra of a function f(x) is the set of all values (x, v) such that value v is less
than or equal to f(x): <img class="math" src="images/math/ac36e4b19dbff75e2a6f2618e0283bb3a7cebd24.png" alt="{(x,v) | v \leq f(x)}"/>.</p>
<p>Translate on the left the function f(x): <img class="math" src="images/math/9e56ed08d667c4ac14acb051b107a8bee601ad68.png" alt="f_{-1}(x) = f(x-1)"/>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">function_translated</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="n">function_translated</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s">&#39;umbra&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Result:</p>
<div class="highlight-python"><pre>┌──┬──────────────────┐
│11│                  │
│10│      ◼           │
│ 9│  ◼◼  ◼ ◼     ◼   │
│ 8│  ◼◼  ◼◼◼◼    ◼   │
│ 7│◼ ◼◼  ◼◼◼◼   ◼◼   │
│ 6│◼◼◼◼  ◼◼◼◼◼  ◼◼ ◼ │
│ 5│◼◼◼◼ ◼◼◼◼◼◼ ◼◼◼ ◼ │
│ 4│◼◼◼◼◼◼◼◼◼◼◼ ◼◼◼ ◼ │
│ 3│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼ ◼ │
│ 2│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼ │
│ 1│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼ │
└──┴──────────────────┘</pre>
</div>
<p>The function is padded on the right with the infinimum of the function domain, thus zero.</p>
<p>Translate on the right the function f(x): <img class="math" src="images/math/487b16fb52c8e566aa2ae6b39464bcebf0b67df6.png" alt="f_{+1}(x) = f(x+1)"/>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">function_translated</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="n">function_translated</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s">&#39;umbra&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Result:</p>
<div class="highlight-python"><pre>┌──┬──────────────────┐
│11│                  │
│10│        ◼         │
│ 9│    ◼◼  ◼ ◼     ◼ │
│ 8│    ◼◼  ◼◼◼◼    ◼ │
│ 7│  ◼ ◼◼  ◼◼◼◼   ◼◼ │
│ 6│  ◼◼◼◼  ◼◼◼◼◼  ◼◼ │
│ 5│ ◼◼◼◼◼ ◼◼◼◼◼◼ ◼◼◼ │
│ 4│ ◼◼◼◼◼◼◼◼◼◼◼◼ ◼◼◼ │
│ 3│ ◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼ │
│ 2│ ◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
│ 1│ ◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
└──┴──────────────────┘</pre>
</div>
<p>The function is padded on the left with zero.</p>
<p>Let&#8217;s dilate the function f(x) by the so-called unit-ball structuring element <img class="math" src="images/math/d096867b85c937df0364c24b6f9f8e3c6fcdb4b6.png" alt="g(x) = 1"/> over
the range :<img class="math" src="images/math/e3bc224fc880fc615e2668473e52a8d225d1d3dd.png" alt="{-1 \leq x \leq 1}"/>, 0 otherwise:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">function_dilated</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
<span class="n">function_dilated</span><span class="o">.</span><span class="n">dilate</span><span class="p">(</span><span class="n">unit_ball</span><span class="p">)</span>
<span class="k">print</span> <span class="n">function_dilated</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s">&#39;umbra&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Result:</p>
<div class="highlight-python"><pre>┌──┬──────────────────┐
│11│                  │
│10│      ◼◼◼         │
│ 9│  ◼◼◼◼◼◼◼◼◼   ◼◼◼ │
│ 8│  ◼◼◼◼◼◼◼◼◼◼  ◼◼◼ │
│ 7│◼◼◼◼◼◼◼◼◼◼◼◼ ◼◼◼◼ │
│ 6│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
│ 5│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
│ 4│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
│ 3│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
│ 2│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
│ 1│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
└──┴──────────────────┘</pre>
</div>
<p>Plot with the original function as mask:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">function_dilated</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s">&#39;umbra&#39;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">function</span><span class="p">)</span>
</pre></div>
</div>
<p>Result:</p>
<div class="highlight-python"><pre>┌──┬──────────────────┐
│11│                  │
│10│      ●◼●         │
│ 9│  ●◼◼●●◼●◼●   ●◼● │
│ 8│  ●◼◼●●◼◼◼◼●  ●◼● │
│ 7│●◼●◼◼●●◼◼◼◼● ●◼◼● │
│ 6│●◼◼◼◼●●◼◼◼◼◼●●◼◼●◼│
│ 5│◼◼◼◼◼●◼◼◼◼◼◼●◼◼◼●◼│
│ 4│◼◼◼◼◼◼◼◼◼◼◼◼●◼◼◼●◼│
│ 3│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼●◼│
│ 2│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
│ 1│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
└──┴──────────────────┘</pre>
</div>
<p>Recompute the dilation using the point wise maximum of the set of translated corresponding to the
structuring element:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">function_dilated</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
<span class="k">for</span> <span class="n">offset</span> <span class="ow">in</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">function_dilated</span><span class="o">.</span><span class="n">pointwise_max</span><span class="p">(</span><span class="n">function</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">offset</span><span class="p">))</span>
<span class="k">print</span> <span class="n">function_dilated</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s">&#39;umbra&#39;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">function</span><span class="p">)</span>
</pre></div>
</div>
<p>Result:</p>
<div class="highlight-python"><pre>┌──┬──────────────────┐
│11│                  │
│10│      ●◼●         │
│ 9│  ●◼◼●●◼●◼●   ●◼● │
│ 8│  ●◼◼●●◼◼◼◼●  ●◼● │
│ 7│●◼●◼◼●●◼◼◼◼● ●◼◼● │
│ 6│●◼◼◼◼●●◼◼◼◼◼●●◼◼●◼│
│ 5│◼◼◼◼◼●◼◼◼◼◼◼●◼◼◼●◼│
│ 4│◼◼◼◼◼◼◼◼◼◼◼◼●◼◼◼●◼│
│ 3│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼●◼│
│ 2│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
│ 1│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
└──┴──────────────────┘</pre>
</div>
<p>Erode by the unit ball:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">function_eroded</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
<span class="n">function_eroded</span><span class="o">.</span><span class="n">erode</span><span class="p">(</span><span class="n">unit_ball</span><span class="p">)</span>
<span class="k">print</span> <span class="n">function_eroded</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s">&#39;umbra&#39;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">function</span><span class="p">)</span>
</pre></div>
</div>
<p>Result:</p>
<div class="highlight-python"><pre>┌──┬──────────────────┐
│11│                  │
│10│       ◻          │
│ 9│   ◻◻  ◻ ◻     ◻  │
│ 8│   ◻◻  ◻◼◼◻    ◻  │
│ 7│ ◻ ◻◻  ◻◼◼◻   ◻◻  │
│ 6│ ◻◼◼◻  ◻◼◼◼◻  ◻◻ ◻│
│ 5│◼◼◼◼◻ ◻◼◼◼◼◻ ◻◼◻ ◻│
│ 4│◼◼◼◼◼◼◼◼◼◼◼◻ ◻◼◻ ◻│
│ 3│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◻ ◻│
│ 2│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
│ 1│◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼◼│
└──┴──────────────────┘</pre>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api/SimpleMorphoMath.html"
                        title="next chapter">2. <tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">SimpleMorphoMath</span></tt></a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tutorial.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api/SimpleMorphoMath.html" title="2. SimpleMorphoMath"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Overview"
             >previous</a> |</li>
        <li><a href="index.html">SimpleMorphoMath 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Fabrice Salvaire.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>